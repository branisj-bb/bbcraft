---
import BaseLayout from '../../layouts/BaseLayout.astro';
import produkty from '../../data/produkty.json';

// ✅ Tohle doplň úplně nahoru
export async function getStaticPaths() {
  return produkty.map(p => ({
    params: { slug: p.slug },
    props: { produkt: p }
  }));
}

const { produkt } = Astro.props;
---
<BaseLayout title={produkt.title}>
  <div class="max-w-4xl mx-auto px-4 py-12 grid md:grid-cols-2 gap-8">
    <img src={produkt.image} alt={produkt.title} class="rounded-xl border" />
    <div>
      <h1 class="text-3xl font-bold">{produkt.title}</h1>
      <div class="mt-2 text-xl font-semibold">{produkt.price}</div>
      <p class="mt-4 leading-7">{produkt.description}</p>
      <a href={produkt.buyUrl} class="mt-6 inline-block px-5 py-3 border rounded-lg hover:bg-neutral-100">
        Koupit
      </a>
    </div>
  </div>
</BaseLayout>